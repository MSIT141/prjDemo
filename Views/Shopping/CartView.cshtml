@model IEnumerable<prjDemo.Models.CShoppingCartItem>

@{
    ViewBag.Title = "CartView";
}

<h2>CartView</h2>
<p>
    @Html.ActionLink("Back To List", "List")
</p>
<table class="table">
    <tr>
        <th>
            序
        </th>
        <th>
            @Html.DisplayNameFor(model => model.product.fName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.count)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.price)
        </th>
        <th>
            小計
        </th>
    </tr>

    @{
        int countt = 0;
        decimal tax = 0;
        decimal pay = 0;

        foreach (var item in Model)
        {
            countt++;
            pay +=item.小計;
            <tr>
                <td>
                    @countt
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.product.fName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.count)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.price)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.小計)
                </td>
            </tr>

            tax += item.小計 * 0.05m;
        }
    }
</table>

<div>a:@pay</div>
<div>Tax:@tax</div>
<div>Total:@(pay+tax)</div>

